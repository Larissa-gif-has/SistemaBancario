saldo = 0
limite = 500
numero_saques = 0
limite_saques = 3
saque = 0
extrato = 0
while True:
    print("""[ 1 ] - DEPOSITAR
[ 2 ] - SACAR 
[ 3 ] - SALDO 
[ 4 ] - SAIR
""")
    opcao = int(input('----- MENU -----:'))
    if opcao == 1:
        deposito = float(input('Qual valor voce quer depositar?'))
        extrato += deposito
        if deposito > 0:
            saldo += deposito
            print(f'Deposito efetuado com sucesso')
        else:
            print('Operação invalida. Tente novamente')
    elif opcao == 2:
        valor = float(input('Qual valor voce quer sacar?'))
        if valor < saldo and valor <= 500:
            saque += valor
        if valor == 500:
            numero_saques += 1
        excedeu_saldo = valor > saldo
        excedeu_limite = valor > limite
        excedeu_saques = numero_saques > limite_saques

        if excedeu_saldo:
            print('Operação falhou.Voce não tem saldo suficiente')
        elif excedeu_limite:
            print('Operação falhou. O valor do saque excede o limite')
        elif excedeu_saques:
            print('Operação falhou. Número máximo de saques excedido')
        elif valor > 0:
            saldo -= valor
            print(f'Saque no valor de R${valor:.2f} efetuado com sucesso ')
    elif opcao == 3:
        print(f"""---------- SALDO DA CONTA ----------
           R${saldo:.2f}""")
    elif opcao == 4:
        print('Saindo...')
        break

print(f'Valor total sacado R${saque:.2f} reais')
print(f'Valor total depositado R${extrato:.2f} reais ')